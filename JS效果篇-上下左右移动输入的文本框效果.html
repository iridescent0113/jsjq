<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml">    <head>        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />        <title>按键盘上下左右移动输入的文本框效果</title>        <script language="javascript">            var $ = function(id){ return document.getElementById(id); }            var rows = 3;    //行            var cols = 3;    //列            /* 加载页面时生成文本框 */            window.onload = function(){                var html = "";                /* 动态生成rows行 cols列的文本框 */                for(var i = 1; i <= rows; i++){                    for(var j = 1; j <= cols; j++){                        /* 动态生成ID */                        html += "<input type='text' id='" + i + "-" + j + "' onkeydown='move(this, event)' />&nbsp;&nbsp;";                    }                    html += "<br />";    //换行                }                $("text").innerHTML = html;    //显示生成的结果            }            /* 回车和上下左右键切换文本框效果 */            function move(obj, event){                var id = obj.id;    //得到ID                var idRow = id.split("-")[0] - 0;    //得到行                var idCol = id.split("-")[1] - 0;    //得到列                var code = event.keyCode || event.which;    //支持firefox                /* 按键事件 */                switch(code){                    case 13:    //回车                    case 39:    //右                        if(idCol == cols && idRow == rows){    //最后一行最后一列                            alert("无法移动");                        }else{                            if(idCol != cols){    //列之间移动                                idCol += 1;                            }else{    //列移动到尾，行+1继续移动                                idRow += 1;                                idCol = 1;                            }                        }                        break;                    case 37:    //左                        if(idRow == 1 && idCol == 1){    //第一行第一列                            alert("无法移动");                        }else{                            if(idCol != 1){    //列之间移动                                idCol -= 1;                            }else{    //列移动到头，行-1继续移动                                idRow -= 1;                                idCol = cols;                            }                        }                        break;                    case 38:    //上                        if(idRow == 1 && idCol == 1){    //第一行第一列                            alert("无法移动");                        }else{                            if(idRow != 1){    //行之间移动                                idRow -= 1;                            }else{    //行移动到头，列-1继续移动                                idRow = rows;                                idCol -= 1;                            }                        }                        break;                    case 40:    //下                        if(idRow == rows && idCol == cols){    //最后一行最后一列                            alert("无法移动");                        }else{                            if(idRow != rows){    //行之间移动                                idRow += 1;                            }else{    //行移动到尾，列+1继续移动                                idRow = 1;                                idCol += 1;                            }                        }                        break;                }                $(idRow + "-" + idCol).focus(); //移动            }        </script>    </head>    <body>        <div id="text">        </div>    </body></html>